  
@model Modelo.Entity.Calificaciones

<br />
<br />
<br />
<a class="btn btn-link active"  asp-action="Vista" asp-controller="CargaCalificaciones" id="btnVerVistaCal"> Vista Calificaciones</a>
<br />

<div class="panel panel-default">
    <div class="panel-heading">
        <h3>  Carga Calificaciones...</h3>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    @*// <form asp-action="Validar" class="form-control-static">*@

                    @using (Html.BeginForm("DownloadFormatoCargaCalificaciones", "CargaCalificaciones", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        <p class="fa fa-download"> </p> <input type="submit" value="Formato Carga Calificaciones" name="formatoCargaCalificaciones" class="btn btn-link btn-xs" />
                    }
                    @using (Html.BeginForm("Validar", "CargaCalificaciones", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        <div class="form-group">
                            <div class="col-xs-12 col-sm-4 col-md-3 col-lg-5">
                            </div>
                            <label>  </label>  <img src="~/images/excel.jpg" height="50" /> EXCEL
                        </div>
                        <div class="form-group">
                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-2">
                                <label>
                                    Fecha *
                                   
                                </label>
                              
                            </div>
                            
                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                    
                                    @Html.TextBoxFor(a => Model.feccal, null, new { @class = "form-control", @placeholder = "aaa-mm-dd", @title = "Tooltip on top" })
                                </div>
                                <div class="col-xs-1 col-sm-4">
                                 
                                    @Html.CheckBox("ch_reemplazar")Reemplazar calificaciones
                                        
                                        @Html.TextBox("reemplazar", null, new { @class = "form-control", @placeholder = "aaa-mm-dd", @title = "Tooltip on top", style="display:none" })
                                   
                                </div>
                                     
                               
                            
                        </div>
                        <div class="form-group">
                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-4">
                               
                              
                            </div>
                        </div>
                       <br />
                    <br />
                    <br />
                            <div class="form-group">
                                <br />
                                <img src="~/images/carpeta.jpg" height="40" /> <label>Seleccionar archivo...</label>
                                <input type="file" name="file" id="file" />
                            </div>
                         
                            <div class="form-group" id="divBtnCargar">
                                <input id="btnCargar" type="submit" value="Cargar archivo" class="btn btn-primary btn-lg btn-block" />

                            </div>
                            <div class="progress" style="display:none">
                                <div class="progress-bar progress-bar-striped progress-bar-success" role="progressbar"
                                     aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                                    Cargado 100%...
                                </div>
                            </div>
                            @if (@ViewBag.mensajeValidacion != "")
                            {

                                <div class="form-group">
                                    <div ID="panelMensajeCal" Class="active smaller">
                                        <div id="divMensajeCal" class="alert alert-block alert-success fade in smaller">
                                            <strong><label ID="mensajeStrongLabelCal"> </label></strong>
                                            <label ID="mensajeLabelCal">@ViewBag.mensajeValidacion</label>
                                        </div>
                                    </div>

                                </div>
                            }
                        @if (@ViewBag.mensajeError != "")
                        {

                            <div class="form-group">
                                <div ID="panelMensajeCalE" Class="active smaller">
                                    <div id="divMensajeCalE" class="alert alert-block alert-danger fade in smaller">
                                        <strong><label ID="mensajeStrongLabelCalE"> </label></strong>
                                        <label ID="mensajeLabelCalE">@ViewBag.mensajeError</label>
                                    </div>
                                </div>

                            </div>
                        }

                    }
                   

                </div>
            </div>
            <div class="col-lg-5">
                <div class="row" id="divCalificaciones">

                    <table class="table small" id="dt_codificaciones">
                        <thead>

                            <tr class="bg-primary">

                                <th>#Registro</th>
                                <th>Descripcion</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var objSin in ViewBag.ListaCodificaciones)
                            {
                                <tr>
                                    <td>Fila- @objSin.Value</td>
                                    <td>@objSin.Text</td>
                                </tr>
                            }
                        </tbody>



                    </table>
                </div>
            </div>
       
        </div>
    </div>
    <div class="content-border">
        <div class="form-group">
            <div class="panel-body">
                <div class="row">
                    <div class="class="col-xs-3 col-sm-3 col-md-3 col-lg-10">
                        <div class="col-lg-10">
                            <div class="row" id="divCalificaciones">

                                <table class="table small" id="dt_calificaciones">
                                    <thead>

                                        <tr class="bg-primary">

                                            <th>Fecha</th>
                                            <th>Provincia</th>
                                            <th>V. Cumplimiento</th>
                                            <th>V. Puntualidad</th>
                                            <th>V. Calidad</th>
                                            <th>V. Compromiso</th>
                                            <th>T. Calificacion</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var objSin in ViewBag.listaCargaCalificacionesPorFecha)
                                        {
                                            <tr>

                                                <td>@objSin.feccal</td>


                                                <td>@objSin.nombreProvincia</td>
                                                <td>@objSin.cumcal</td>
                                                <td>@objSin.puncal</td>
                                                <td>@objSin.calcal</td>
                                                <td>@objSin.comcal</td>

                                                <td>@objSin.totcal</td>


                                            </tr>
                                        }
                                    </tbody>



                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 


    <div class="panel-footer">
        ........
    </div>
</div>

<!-- /.col-lg-4 -->
